<div class="chat-main">
  <!-- Header -->
  <div class="chat-header cursor-pointer" (click)="openUserInfo()">
    <p-avatar [image]="avatar" shape="circle" size="large" styleClass="mr-2"></p-avatar>
    <div>
      <h3 class="chat-title">{{ name }}</h3>
      <small class="chat-status">Online</small>
    </div>
    <button 
      pButton 
      icon="pi pi-times" 
      class="ml-auto p-button-rounded p-button-text" 
      (click)="closeDialog(); $event.stopPropagation()">
    </button>
  </div>

  <!-- Messages -->
  <div class="messages">
    <div *ngFor="let msg of messages" class="message" [ngClass]="{'own': msg.own}">
      <p-avatar [image]="msg.own ? 'assets/me-avatar.png' : avatar" shape="circle" size="normal" styleClass="mr-2"></p-avatar>
      <div class="message-content">
        <div class="bubble">{{ msg.content }}</div>
        <small>{{ msg.time }}</small>
      </div>
    </div>
  </div>

  <!-- Input -->
  <div class="message-input flex gap-2 mt-2">
    <input 
      pInputText 
      [(ngModel)]="newMessage" 
      placeholder="Write your message..." 
      class="flex-1"
    />
    <button pButton icon="pi pi-send" class="p-button-rounded p-button-primary" (click)="sendMessage()"></button>
  </div>
</div>
